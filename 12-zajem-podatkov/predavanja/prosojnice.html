<!DOCTYPE html>
<html>
<head>
<title>Zajem podatkov</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../../pomozno/prosojnice.css" />
</head>
<body>
<textarea id="source">

class: center, middle

# Zajem podatkov

## Programiranje 1

---

background-image: url(../../zapiski/slike/250-najbolj-znanih-filmov.png)
background-size: auto 90%

---

class: question, center, middle

## Branje podatkov iz HTMLja

---

### Spletne strani najenostavneje zajamemo s knjižnico `requests`

```python
import requests

odziv = requests.get("http://www.imdb.com/")
if odziv.status_code == 200:
    print(odziv.text)
else:
    print("Prišlo je do napake")
```

---

class: question, center, middle

## Zajem strani

---

class: question, center, middle

## Shranjevanje v JSON

---

### Za analizo podatkov želimo **tabele**

.mini[.mini[
| id | naslov | leto | ocena 
| :-: | :- | :-: | :-:
| 76759 | Vojna zvezd | 1977 | 8.6
| 80684 | Imperij vrača udarec | 1980 | 8.7
| 82971 | Lov za izgubljenim zakladom | 1981 | 8.4 
| 86190 | Vrnitev jedija | 1983 | 8.3
| 87469 | Indiana Jones in tempelj smrti | 1984 | 7.6 
| 97576 | Indiana Jones in Zadnji križarski pohod | 1989 | 8.2 
]]
---

### Najenostavnejši zapis tabel je **CSV**

.mini[```csv
id,naslov,leto,ocena
76759,Vojna zvezd,1977,8.6
80684,Imperij vrača udarec,1980,8.7
82971,Lov za izgubljenim zakladom,1981,8.4 
86190,Vrnitev jedija,1983,8.3
87469,Indiana Jones in tempelj smrti,1984,7.6 
97576,Indiana Jones in Zadnji križarski pohod,1989,8.2 
```]

---

### Kako bi shranili podatke o **režiserju**?

.bad-example[.mini[.mini[
| id | naslov | reziser 
| :-: | :- | :-:
| 76759 | Vojna zvezd | George Lucas
| 80684 | Imperij vrača udarec | Irvin Kershner
| 82971 | Lov za izgubljenim zakladom | Steven Spielberg
| 86190 | Vrnitev jedija | Richard Marquand
| 87469 | Indiana Jones in tempelj smrti | Steven Spilberg
| 97576 | Indiana Jones in Zadnji križarski pohod | Steven Spielberg
]]]
Podvajanje podatkov je potratno in vodi do napak

---

### Podatke shranimo v **ločeno tabelo**

.good-example[.mini[.mini[
| id | naslov | reziser 
| :-: | :- | :-:
| 76759 | Vojna zvezd | 184
| 80684 | Imperij vrača udarec | 449984
| 82971 | Lov za izgubljenim zakladom | 229
| 86190 | Vrnitev jedija | 549658
| 87469 | Indiana Jones in tempelj smrti | 229
| 97576 | Indiana Jones in Zadnji križarski pohod | 229
]]]

- - -

.good-example[.mini[.mini[
| id | ime
| :-: | :-:
| 184 | George Lucas
| 229 | Steven Spielberg
]]]


---

### Kako bi shranili podatke o **igralcih**?

.bad-example[.mini[.mini[
| id | naslov | igralci 
| :-: | :- | :-:
| 76759 | Vojna zvezd | 434,148,402
| 80684 | Imperij vrača udarec | 434,148,402
| 82971 | Lov za izgubljenim zakladom | 148,261
| 86190 | Vrnitev jedija | 434,148,402
| 87469 | Indiana Jones in tempelj smrti | 148
| 97576 | Indiana Jones in Zadnji križarski pohod | 148,125
]]]

- - -

.good-example[.mini[.mini[
| id | ime
| :-: | :-:
| 125 | Sean Connery
| 148 | Harrison Ford
]]]

---

### Kako bi shranili podatke o **igralcih**?

.bad-example[.mini[.mini[
| id | naslov | igr1 | igr2 | igr3
| :-: | :- | :-: | :-:
| 76759 | Vojna zvezd | 434 | 148 | 402
| 80684 | Imperij vrača udarec | 434 | 148 | 402
| 82971 | Lov za izgubljenim zakladom | 148 | 261
| 86190 | Vrnitev jedija | 434 | 148 | 402
| 87469 | Indiana Jones in tempelj smrti | 148
| 97576 | Indiana Jones in Zadnji križarski pohod | 148 | 125
]]]

---

### Vse sklice vnesemo v **povezovalno tabelo**

.good-example[
.left-column[.mini[.mini[
| id | naslov
| :-: | :-
| 76759 | Vojna zvezd
| 80684 | Imperij vrača udarec
| 82971 | Lov za izgubljenim zakladom
| 86190 | Vrnitev jedija
]]

- - -

.mini[.mini[
| id | ime
| :-: | :-
| 125 | Sean Connery
| 148 | Harrison Ford
]]]

.right-column[.mini[.mini[
| film | oseba
| :-: | :-:
| 76759 | 434
| 76759 | 148
| 76759 | 402
| 80684 | 434
| 80684 | 148
| 80684 | 402
| 82971 | 148
| 82971 | 261
| 86190 | 434
| 86190 | 148
]]]
]

---

class: question, center, middle

# Shranjevanje<br>normaliziranih<br>podatkov

---

class: question, center, middle

# Jupyter

</textarea>
<script src="../../pomozno/prosojnice.js"></script>
</body>
</html>
